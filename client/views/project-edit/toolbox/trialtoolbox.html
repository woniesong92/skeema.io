<template name="TrialToolBox">
  {{> TrialSettings}}
  {{> TrialPaths}}
</template>

<template name="TrialSettings">
  <div class="container trial-states-saving-row">
    <div class="row">
      <div class="col s12">
          <label for="trialname">Trial Name</label>
          <input value="{{ trial.name }}" id="trialname" type="text">
      </div>
    </div>

    <div class="row saving-message">
      <p>I want to save...</p>
    </div>
    <div class="row saving-elems-container">
      <div class="col s12 exit-path-container">
        <input type='checkbox' class='filled-in exit-path-input' id='exit-path-input'
          checked='{{trial.doSaveResponse}}'>
        <label for='exit-path-input'>Response</label>
      </div>
      <div class="col s12 time-elapsed-container">
        <input type='checkbox' class='filled-in time-elapsed-input' id='time-elapsed-input'
          checked='{{trial.doSaveReactionTime}}'>
        <label for='time-elapsed-input'>Time Elapsed</label>
      </div>
    </div>
    <div class="row num-occurences-container">
      <div class="col s8">
        <span># Occurences</span>
      </div>
      <div class="col s4">
        <input value="{{ trial.occurences }}" id="occurences" type="number" step="1" min="1">
      </div>
    </div>

    <div class="save-changes-container">
      <button class="save-changes-btn waves-effect waves-light btn">Save Changes</button>
    </div>

  </div>

</template> 

<template name="TrialPaths">

  <div class="trial-paths-row grey darken-3 white-text">
    <div class="container">
      <p class="path-title">Paths</p>

      <!-- TODO: move add frame btn to wherever appropriate -->
      <div class="add-frame-container">
        <button class="waves-effect waves-light btn add-frame">
          Add Frame
        </button>
      </div>

      {{#each paths}}
        {{> PathItem}}
      {{/each}}
    </div>
  </div>

</template>

<template name="PathItem">
  <div class="path-item">
    <table class="path-item-table">
      <tr>
        <td>{{frameName sourceId}}</td>
        <td>{{frameName targetId}}</td>
      </tr>
      <tr>
        <td>{{eventType}}</td>
        <td>{{eventParam}}</td>
      </tr>
    </table>
    <i class="fa fa-times path-item-delete"></i>
  </div>
</template>
